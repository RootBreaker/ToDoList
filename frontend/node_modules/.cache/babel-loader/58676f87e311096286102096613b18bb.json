{"ast":null,"code":"import _classCallCheck from\"D:/Adata/Projects/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Adata/Projects/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Adata/Projects/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Adata/Projects/django-todo-react/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Modal from\"./components/Modal\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.refreshList=function(){axios.get(\"/api/todos/\").then(function(res){return _this.setState({todoList:res.data});}).catch(function(err){return console.log(err);});};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();if(item.id){axios.put(\"/api/todos/\".concat(item.id,\"/\"),item).then(function(res){return _this.refreshList();});return;}axios.post(\"/api/todos/\",item).then(function(res){return _this.refreshList();});};_this.handleDelete=function(item){axios.delete(\"/api/todos/\".concat(item.id,\"/\")).then(function(res){return _this.refreshList();});};_this.createItem=function(){var item={title:\"\",description:\"\",completed:false};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.editItem=function(item){_this.setState({activeItem:item,modal:!_this.state.modal});};_this.displayCompleted=function(status){if(status){return _this.setState({viewCompleted:true});}return _this.setState({viewCompleted:false});};_this.renderTabList=function(){return/*#__PURE__*/_jsxs(\"div\",{className:\"nav nav-tabs\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this.displayCompleted(true);},className:_this.state.viewCompleted?\"nav-link active\":\"nav-link\",children:\"Complete\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return _this.displayCompleted(false);},className:_this.state.viewCompleted?\"nav-link\":\"nav-link active\",children:\"Incomplete\"})]});};_this.renderItems=function(){var viewCompleted=_this.state.viewCompleted;var newItems=_this.state.todoList.filter(function(item){return item.completed===viewCompleted;});return newItems.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title mr-2 \".concat(_this.state.viewCompleted?\"completed-todo\":\"\"),title:item.description,children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-2\",onClick:function onClick(){return _this.editItem(item);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return _this.handleDelete(item);},children:\"Delete\"})]})]},item.id);});};_this.state={viewCompleted:false,todoList:[],modal:false,activeItem:{title:\"\",description:\"\",completed:false}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshList();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-white text-uppercase text-center my-4\",children:\"Todo app\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-10 mx-auto p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.createItem,children:\"Add task\"})}),this.renderTabList(),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush border-top-0\",children:this.renderItems()})]})})}),this.state.modal?/*#__PURE__*/_jsx(Modal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","Modal","axios","App","props","refreshList","get","then","res","setState","todoList","data","catch","err","console","log","toggle","modal","state","handleSubmit","item","id","put","post","handleDelete","delete","createItem","title","description","completed","activeItem","editItem","displayCompleted","status","viewCompleted","renderTabList","renderItems","newItems","filter","map"],"sources":["D:/Adata/Projects/django-todo-react/frontend/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewCompleted: false,\n      todoList: [],\n      modal: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false,\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  refreshList = () => {\n    axios\n      .get(\"/api/todos/\")\n      .then((res) => this.setState({ todoList: res.data }))\n      .catch((err) => console.log(err));\n  };\n\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };\n\n  handleSubmit = (item) => {\n    this.toggle();\n\n    if (item.id) {\n      axios\n        .put(`/api/todos/${item.id}/`, item)\n        .then((res) => this.refreshList());\n      return;\n    }\n    axios\n      .post(\"/api/todos/\", item)\n      .then((res) => this.refreshList());\n  };\n\n  handleDelete = (item) => {\n    axios\n      .delete(`/api/todos/${item.id}/`)\n      .then((res) => this.refreshList());\n  };\n\n  createItem = () => {\n    const item = { title: \"\", description: \"\", completed: false };\n\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  editItem = (item) => {\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  displayCompleted = (status) => {\n    if (status) {\n      return this.setState({ viewCompleted: true });\n    }\n\n    return this.setState({ viewCompleted: false });\n  };\n\n  renderTabList = () => {\n    return (\n      <div className=\"nav nav-tabs\">\n        <span\n          onClick={() => this.displayCompleted(true)}\n          className={this.state.viewCompleted ? \"nav-link active\" : \"nav-link\"}\n        >\n          Complete\n        </span>\n        <span\n          onClick={() => this.displayCompleted(false)}\n          className={this.state.viewCompleted ? \"nav-link\" : \"nav-link active\"}\n        >\n          Incomplete\n        </span>\n      </div>\n    );\n  };\n\n  renderItems = () => {\n    const { viewCompleted } = this.state;\n    const newItems = this.state.todoList.filter(\n      (item) => item.completed === viewCompleted\n    );\n\n    return newItems.map((item) => (\n      <li\n        key={item.id}\n        className=\"list-group-item d-flex justify-content-between align-items-center\"\n      >\n        <span\n          className={`todo-title mr-2 ${\n            this.state.viewCompleted ? \"completed-todo\" : \"\"\n          }`}\n          title={item.description}\n        >\n          {item.title}\n        </span>\n        <span>\n          <button\n            className=\"btn btn-secondary mr-2\"\n            onClick={() => this.editItem(item)}\n          >\n            Edit\n          </button>\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => this.handleDelete(item)}\n          >\n            Delete\n          </button>\n        </span>\n      </li>\n    ));\n  };\n\n  render() {\n    return (\n      <main className=\"container\">\n        <h1 className=\"text-white text-uppercase text-center my-4\">Todo app</h1>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n            <div className=\"card p-3\">\n              <div className=\"mb-4\">\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={this.createItem}\n                >\n                  Add task\n                </button>\n              </div>\n              {this.renderTabList()}\n              <ul className=\"list-group list-group-flush border-top-0\">\n                {this.renderItems()}\n              </ul>\n            </div>\n          </div>\n        </div>\n        {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ) : null}\n      </main>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}